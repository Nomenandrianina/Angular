"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[402],{5402:(U,d,i)=>{i.r(d),i.d(d,{default:()=>D});var g=i(6895),T=i(2876),_=i(433),p=i(5609),h=i(3189),e=i(1571),Z=i(7556),P=i(4295),f=i(9569),v=i(4631);function E(n,o){1&n&&(e.TgZ(0,"span",11),e._uU(1,"Payement envoy\xe9 et en attente de validation"),e.qZA())}function A(n,o){1&n&&(e.TgZ(0,"span",11),e._uU(1,"Payement valid\xe9 et r\xe9ussie"),e.qZA())}function C(n,o){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"img",9),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e.YNc(12,E,2,0,"span",10),e.YNc(13,A,2,0,"span",10),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.s9C("src",t.Car.image,e.LSH),e.xp6(2),e.Oqu(t.Car.marque+" "+t.Car.type),e.xp6(2),e.Oqu(t.Car.immatriculation),e.xp6(2),e.hij(" ",t.Piece.piece_name," "),e.xp6(2),e.hij(" $",t.Piece.prix*t.quantite+t.Piece.main_oeuvre," "),e.xp6(2),e.Q6J("ngIf","1"==t.Car.etat),e.xp6(1),e.Q6J("ngIf","2"==t.Car.etat)}}function M(n,o){1&n&&(e.TgZ(0,"div",12)(1,"h3"),e._uU(2," Loading... "),e.qZA()())}const O=function(){return{backdropBorderRadius:"3px"}};let D=(()=>{class n{constructor(t,a,r,s){this.authService=t,this.receptionService=a,this.router=r,this.route=s,this.loading=!1,this.id_user=sessionStorage.getItem("id"),this.authService.isClient()}ngOnInit(){this.getAllPaiement()}getAllPaiement(){this.loading=!0,this.receptionService.getAllpaiement({id:this.id_user}).subscribe(s=>{this.loading=!1,this.detail=s.paie,this.rep=s.reparation,console.log(this.rep)},s=>{this.loading=!1,this.message=s.message})}calculateDiff(t){const a=[" jours"," heures"," minutes"];var r=new Date(t),s=new Date,l="",c=Math.floor((s-r)/864e5),u=Math.floor(Math.abs(r-s)/36e5),m=Math.floor((s-r)/6e4);return c<1&&u<1&&m>=1&&(l=m+a[2]),c<1&&u>=1&&m>=1&&(l=u+a[1]),c>=1&&u>=1&&m>=1&&(l=c+a[0]),l}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.e),e.Y36(P.G),e.Y36(f.F0),e.Y36(f.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-paiement"]],standalone:!0,features:[e.jDz],decls:26,vars:9,consts:[[1,"row"],["cardTitle","Listes des paiements"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table","datatable-table"],[4,"ngFor","ngForOf"],[1,"my-container"],["customLoadingTemplate",""],[3,"show","config","template"],["alt","",2,"width","100px","border-radius","5px",3,"src"],["class","badge text-bg-success",4,"ngIf"],[1,"badge","text-bg-success"],[1,"custom-class"]],template:function(t,a){if(1&t&&(e.TgZ(0,"div",0)(1,"app-card",1)(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(s){return a.filterTerm=s}),e.qZA()(),e.TgZ(4,"table",4)(5,"thead")(6,"tr")(7,"th"),e._uU(8,"Images"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Voitures"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Immatricules"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Pi\xe8ces"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Prix"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"status"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,C,14,7,"tr",5),e.ALo(21,"filter"),e.qZA()()(),e.TgZ(22,"div",6),e.YNc(23,M,3,0,"ng-template",null,7,e.W1O),e._UZ(25,"ngx-loading",8),e.qZA()()),2&t){const r=e.MAs(24);e.xp6(3),e.Q6J("ngModel",a.filterTerm),e.xp6(17),e.Q6J("ngForOf",e.xi3(21,5,a.rep,a.filterTerm)),e.xp6(5),e.Q6J("show",a.loading)("config",e.DdM(8,O))("template",r)}},dependencies:[g.ez,g.sg,g.O5,T.m,_.Fj,_.JJ,_.On,v.A,_.UX,p.q,p.RJ,h.h,h.Z]}),n})()}}]);