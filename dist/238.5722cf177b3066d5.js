"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[238],{5238:(R,d,i)=>{i.r(d),i.d(d,{default:()=>U});var g=i(9569),_=i(6895),m=i(2876),l=i(433),p=i(5609),u=i(3189),t=i(1571),f=i(7556),h=i(4295),T=i(4631);function Z(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"strong"),t._uU(2),t.qZA(),t.TgZ(3,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeMessage)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.message)}}function E(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td")(1,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.valideEnter(o._id))}),t._uU(2,"valider"),t.qZA()()}}function v(n,a){1&n&&(t.TgZ(0,"td")(1,"span",15),t._uU(2,"Re\xe7u par le responsable"),t.qZA()())}function A(n,a){1&n&&(t.TgZ(0,"td")(1,"span",15),t._uU(2,"R\xe9par\xe9 et pay\xe9"),t.qZA()())}function C(n,a){if(1&n&&(t.TgZ(0,"tr")(1,"td"),t._UZ(2,"img",12),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.YNc(11,E,3,0,"td",13),t.YNc(12,v,3,0,"td",13),t.YNc(13,A,3,0,"td",13),t.qZA()),2&n){const e=a.$implicit;t.xp6(2),t.s9C("src",e.image,t.LSH),t.xp6(2),t.Oqu(e.marque),t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.moteur),t.xp6(2),t.Oqu(e.immatriculation),t.xp6(1),t.Q6J("ngIf","0"==e.etat),t.xp6(1),t.Q6J("ngIf","1"==e.etat),t.xp6(1),t.Q6J("ngIf","2"==e.etat)}}function M(n,a){1&n&&(t.TgZ(0,"div",16)(1,"h3"),t._uU(2," Loading... "),t.qZA()())}const O=function(){return{backdropBorderRadius:"3px"}};let U=(()=>{class n{constructor(e,s,o){this.authService=e,this.receptionService=s,this.datePipe=o,this.loading=!1,this.authService.isAtelier(),this.datePipe=o}ngOnInit(){this.getCar()}getCar(){this.loading=!0,this.receptionService.getCar().subscribe(o=>{this.loading=!1,this.list=o.car},o=>{this.loading=!1,this.message=o.message})}valideEnter(e){this.loading=!0,this.receptionService.valideCar({id:e}).subscribe(c=>{200==c.status&&(this.loading=!1,this.message="Le "+c.car.marque+" "+c.car.type+" est bien re\xe7u",window.location.reload())},c=>{this.loading=!1,this.message=c.message})}removeMessage(){this.message=null,window.location.reload()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(f.e),t.Y36(h.G),t.Y36(_.uU))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-reception"]],standalone:!0,features:[t.jDz],decls:27,vars:10,consts:[["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],[1,"row"],["cardTitle","R\xe9ception des voitures"],[1,"form-group"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"table"],[4,"ngFor","ngForOf"],[1,"my-container"],["customLoadingTemplate",""],[3,"show","config","template"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close",3,"click"],["alt","",2,"width","100px","border-radius","5px",3,"src"],[4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"badge","text-bg-success"],[1,"custom-class"]],template:function(e,s){if(1&e&&(t.YNc(0,Z,4,1,"div",0),t.TgZ(1,"div",1)(2,"app-card",2)(3,"div",3)(4,"input",4),t.NdJ("ngModelChange",function(r){return s.filterTerm=r}),t.qZA()(),t.TgZ(5,"table",5)(6,"thead")(7,"tr")(8,"th"),t._uU(9,"Images"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Marques"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Types"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Moteurs"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Immatricules"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Actions"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,C,14,8,"tr",6),t.ALo(22,"filter"),t.qZA()()()(),t.TgZ(23,"div",7),t.YNc(24,M,3,0,"ng-template",null,8,t.W1O),t._UZ(26,"ngx-loading",9),t.qZA()),2&e){const o=t.MAs(25);t.Q6J("ngIf",s.message),t.xp6(4),t.Q6J("ngModel",s.filterTerm),t.xp6(17),t.Q6J("ngForOf",t.xi3(22,6,s.list,s.filterTerm)),t.xp6(5),t.Q6J("show",s.loading)("config",t.DdM(9,O))("template",o)}},dependencies:[_.ez,_.sg,_.O5,m.m,l.Fj,l.JJ,l.On,T.A,g.Bz,l.UX,p.q,p.RJ,u.h,u.Z]}),n})()}}]);