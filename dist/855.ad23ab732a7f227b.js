"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[855],{4855:(E,m,o)=>{o.r(m),o.d(m,{default:()=>A});var u=o(9569),l=o(6895),_=o(2876),t=o(433),p=o(5609),c=o(6724),e=o(1571),v=o(7556),g=o(4295);function h(n,d){1&n&&(e.TgZ(0,"div",2)(1,"div",23)(2,"div",24)(3,"div",13)(4,"div",2)(5,"div",25)(6,"p",15),e._uU(7,"Edition de l'avancement"),e.qZA()(),e.TgZ(8,"div",26),e._UZ(9,"input",27),e.qZA()()()()(),e.TgZ(10,"div",28)(11,"div",24)(12,"div",13)(13,"button",29),e._uU(14,"Valider"),e.qZA()()()()())}function Z(n,d){1&n&&(e.TgZ(0,"div",2)(1,"div",30)(2,"div",31)(3,"div",13)(4,"button",32),e._uU(5,"Terminer"),e.qZA()()()()())}function f(n,d){1&n&&(e.TgZ(0,"div",2)(1,"div",30)(2,"div",31)(3,"div",13)(4,"button",33),e._uU(5,"Terminer"),e.qZA()()()()())}function T(n,d){1&n&&(e.TgZ(0,"div",34)(1,"h3"),e._uU(2," Loading... "),e.qZA()())}const U=function(){return{backdropBorderRadius:"3px"}};let A=(()=>{class n{constructor(r,i,a,s){this.authService=r,this.receptionService=i,this.router=a,this.route=s,this.id=this.route.snapshot.paramMap.get("id"),this.loading=!1,this.form=new t.cw({id_rep:new t.NI(this.id),avancement:new t.NI(null,[t.kI.required])}),this.termineForm=new t.cw({id_rep:new t.NI(this.id)}),this.authService.isAtelier()}get id_rep(){return this.form.get("id_rep")}get avancement(){return this.form.get("avancement")}ngOnInit(){this.getReparationById()}getReparationById(){this.loading=!0,this.receptionService.getReparationById({id:this.id}).subscribe(s=>{this.loading=!1,this.list=s.reparation,console.log(this.list)},s=>{this.loading=!1,this.message=s.message})}onsubmit(){this.loading=!0,this.receptionService.updateReparation({id:this.form.value.id_rep,avancement:this.form.value.avancement}).subscribe(s=>{this.loading=!1,this.router.navigateByUrl("/atelier/update/reparation")},s=>{this.loading=!1,this.message=s.message})}terminer(){this.loading=!0,this.receptionService.terminerReparation({id:this.termineForm.value.id_rep}).subscribe(s=>{this.loading=!1,this.router.navigateByUrl("/atelier/update/reparation")},s=>{this.loading=!1,this.message=s.message})}}return n.\u0275fac=function(r){return new(r||n)(e.Y36(v.e),e.Y36(g.G),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-detail"]],standalone:!0,features:[e.jDz],decls:90,vars:27,consts:[[2,"background-color","rgb(255, 253, 253)"],[1,"container","py-5"],[1,"row"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-body","text-center"],["alt","avatar",1,"rounded-circle","img-fluid",2,"width","150px",3,"src"],[1,"my-3"],[1,"card","mb-4","mb-lg-0"],[1,"card-body","p-4"],[1,"h5","mb-20"],[3,"percent","radius","outerStrokeWidth","innerStrokeWidth","outerStrokeColor","innerStrokeColor","animation","animationDuration"],[1,"col-lg-8"],[1,"card-body"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],["method","POST",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"my-container"],["customLoadingTemplate",""],[3,"show","config","template"],[1,"col-md-9"],[1,"card","mb-4","mb-md-0"],[1,"col-sm-5"],[1,"col-sm-7"],["formControlName","avancement","type","number",1,"form","form-control",2,"width","50%"],[1,"col-md-3"],["type","submit",1,"btn","btn-primary"],[1,"col-md-12"],[1,"card"],["type","submit",1,"btn","btn-success",2,"width","100%"],["disabled","",1,"btn","btn-success",2,"width","100%"],[1,"custom-class"]],template:function(r,i){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"h5",7),e._uU(8),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"h2",10),e._uU(12,"Avancement du r\xe9paration"),e.qZA(),e._UZ(13,"circle-progress",11),e.qZA()()(),e.TgZ(14,"div",12)(15,"div",4)(16,"div",13)(17,"div",2)(18,"div",14)(19,"p",15),e._uU(20,"Marque"),e.qZA()(),e.TgZ(21,"div",16)(22,"p",17),e._uU(23),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",2)(26,"div",14)(27,"p",15),e._uU(28,"Type"),e.qZA()(),e.TgZ(29,"div",16)(30,"p",17),e._uU(31),e.qZA()()(),e._UZ(32,"hr"),e.TgZ(33,"div",2)(34,"div",14)(35,"p",15),e._uU(36,"Moteur"),e.qZA()(),e.TgZ(37,"div",16)(38,"p",17),e._uU(39),e.qZA()()(),e._UZ(40,"hr"),e.TgZ(41,"div",2)(42,"div",14)(43,"p",15),e._uU(44,"Immatricule"),e.qZA()(),e.TgZ(45,"div",16)(46,"p",17),e._uU(47),e.qZA()()()()(),e.TgZ(48,"div",4)(49,"div",13)(50,"div",2)(51,"div",14)(52,"p",15),e._uU(53,"Pi\xe9ce pour la r\xe9paration"),e.qZA()(),e.TgZ(54,"div",16)(55,"p",17),e._uU(56),e.qZA()()(),e._UZ(57,"hr"),e.TgZ(58,"div",2)(59,"div",14)(60,"p",15),e._uU(61,"D\xe9scription du probl\xe8me"),e.qZA()(),e.TgZ(62,"div",16)(63,"p",17),e._uU(64),e.qZA()()(),e._UZ(65,"hr"),e.TgZ(66,"div",2)(67,"div",14)(68,"p",15),e._uU(69,"Co\xfbt du r\xe9paration"),e.qZA()(),e.TgZ(70,"div",16)(71,"p",17),e._uU(72),e.qZA()()(),e._UZ(73,"hr"),e.TgZ(74,"div",2)(75,"div",14)(76,"p",15),e._uU(77,"Main d'oeuvre"),e.qZA()(),e.TgZ(78,"div",16)(79,"p",17),e._uU(80),e.qZA()()()()(),e.TgZ(81,"form",18),e.NdJ("ngSubmit",function(){return i.onsubmit()}),e.YNc(82,h,15,0,"div",19),e.qZA(),e.TgZ(83,"form",18),e.NdJ("ngSubmit",function(){return i.terminer()}),e.YNc(84,Z,6,0,"div",19),e.qZA(),e.YNc(85,f,6,0,"div",19),e.qZA()(),e.TgZ(86,"div",20),e.YNc(87,T,3,0,"ng-template",null,21,e.W1O),e._UZ(89,"ngx-loading",22),e.qZA()()()),2&r){const a=e.MAs(88);e.xp6(6),e.s9C("src",i.list.Car.image,e.LSH),e.xp6(2),e.Oqu(i.list.Car.marque+" "+i.list.Car.type),e.xp6(5),e.Q6J("percent",i.list.avancement)("radius",100)("outerStrokeWidth",16)("innerStrokeWidth",8)("outerStrokeColor","#78C000")("innerStrokeColor","#C7E596")("animation",!0)("animationDuration",300),e.xp6(10),e.Oqu(i.list.Car.marque),e.xp6(8),e.Oqu(i.list.Car.type),e.xp6(8),e.Oqu(i.list.Car.moteur),e.xp6(8),e.Oqu(i.list.Car.immatriculation),e.xp6(9),e.Oqu(i.list.Piece.piece_name),e.xp6(8),e.Oqu(i.list.description),e.xp6(8),e.hij("",i.list.Piece.prix," $"),e.xp6(8),e.hij("",i.list.Piece.main_oeuvre," $"),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",i.list.avancement<100&&"En cours"==i.list.status),e.xp6(1),e.Q6J("formGroup",i.termineForm),e.xp6(1),e.Q6J("ngIf",100==i.list.avancement&&"En cours"==i.list.status),e.xp6(1),e.Q6J("ngIf",100==i.list.avancement&&"Terminer"==i.list.status),e.xp6(4),e.Q6J("show",i.loading)("config",e.DdM(26,U))("template",a)}},dependencies:[l.ez,l.O5,_.m,t._Y,t.Fj,t.wV,t.JJ,t.JL,t.sg,t.u,u.Bz,t.UX,p.q,p.RJ,c.hy,c.nu]}),n})()}}]);